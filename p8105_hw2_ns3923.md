p8105_hw2_ns3923
================

**Setup necessary library**

``` r
library(tidyverse)
```

## Problem 1

Aims: Merging pols-month.csv, unemployment.csv, and snp.csv into a
dataframe by using year/month as keys variable

**Import data**

``` r
polsmonth_df = read_csv(file = "./fivethirtyeight_datasets/pols-month.csv")
unemployment_df = read.csv(file = "./fivethirtyeight_datasets/unemployment.csv")
snp_df = read.csv(file = "./fivethirtyeight_datasets/snp.csv")
```

**Step 1**: Cleaning pols-month.csv

1.  Break up `mon` (e.g., 1/15/1947) into integer variables
    `year`,`month`, and `day`

2.  Replace month number with month name

3.  Create `president`: taking values `gop` and `dem`

4.  Remove `prez_dem` and `prez_gop`, and the day variable

``` r
polsmonth_df = polsmonth_df |>
    janitor::clean_names() |>
    separate(mon, into = c("year","month","day"), convert = TRUE) |>
    mutate(
           president = ifelse(prez_gop == 1, "gop", "dem"),   
           month = factor(month, levels = 1:12, labels = month.abb)    #Month name
           ) |>
    select(year, month, president,
           starts_with("gov"),
           starts_with("sen"),
           starts_with("rep")) |>
    arrange(year, month)
#Result
polsmonth_df
```

    ## # A tibble: 822 × 9
    ##     year month president gov_gop gov_dem sen_gop sen_dem rep_gop rep_dem
    ##    <int> <fct> <chr>       <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>
    ##  1  1947 Jan   dem            23      23      51      45     253     198
    ##  2  1947 Feb   dem            23      23      51      45     253     198
    ##  3  1947 Mar   dem            23      23      51      45     253     198
    ##  4  1947 Apr   dem            23      23      51      45     253     198
    ##  5  1947 May   dem            23      23      51      45     253     198
    ##  6  1947 Jun   dem            23      23      51      45     253     198
    ##  7  1947 Jul   dem            23      23      51      45     253     198
    ##  8  1947 Aug   dem            23      23      51      45     253     198
    ##  9  1947 Sep   dem            23      23      51      45     253     198
    ## 10  1947 Oct   dem            23      23      51      45     253     198
    ## # ℹ 812 more rows

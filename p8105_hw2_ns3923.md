p8105_hw2_ns3923
================

**Setup necessary library**

``` r
library(tidyverse)
```

## Problem 1

Aims: Merging pols-month.csv, unemployment.csv, and snp.csv into a
dataframe by using year/month as keys variable

**Import data**

``` r
polsmonth_df = read_csv(file = "./fivethirtyeight_datasets/pols-month.csv")
unemployment_df = read.csv(file = "./fivethirtyeight_datasets/unemployment.csv")
snp_df = read.csv(file = "./fivethirtyeight_datasets/snp.csv")
```

**Step 1**: Cleaning pols-month.csv

1.  Break up `mon` (e.g., 1/15/1947) into integer variables
    `year`,`month`, and `day`

2.  Replace month number with month name

3.  Create `president`: taking values `gop` and `dem`

4.  Remove `prez_dem` and `prez_gop`, and the day variable

``` r
polsmonth_df = polsmonth_df |>
    janitor::clean_names() |>
    separate(mon, into = c("month","day","year"), convert = TRUE) |>
    mutate(
           president = ifelse(prez_gop == 1, "gop", "dem"),   
           month = factor(month, levels = 1:12, labels = month.abb)    #Month name
           ) |>
    select(year, month, president,
           starts_with("gov"),
           starts_with("sen"),
           starts_with("rep")) |>
    arrange(year, month)
#Result
polsmonth_df
```

    ## # A tibble: 822 × 9
    ##     year month president gov_gop gov_dem sen_gop sen_dem rep_gop rep_dem
    ##    <int> <fct> <chr>       <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>
    ##  1  1947 Jan   dem            23      23      51      45     253     198
    ##  2  1947 Feb   dem            23      23      51      45     253     198
    ##  3  1947 Mar   dem            23      23      51      45     253     198
    ##  4  1947 Apr   dem            23      23      51      45     253     198
    ##  5  1947 May   dem            23      23      51      45     253     198
    ##  6  1947 Jun   dem            23      23      51      45     253     198
    ##  7  1947 Jul   dem            23      23      51      45     253     198
    ##  8  1947 Aug   dem            23      23      51      45     253     198
    ##  9  1947 Sep   dem            23      23      51      45     253     198
    ## 10  1947 Oct   dem            23      23      51      45     253     198
    ## # ℹ 812 more rows

**Step 2**: Cleaning snp.csv

Using a similar process to pol-month.csv

``` r
snp_df = snp_df |>
    janitor::clean_names() |>
    separate(date, into = c("month","day","year"), convert = TRUE) |>
    mutate(
        month = factor(month, levels = 1:12, labels = month.abb, ordered = TRUE)
      ) |>
    select(year, month, close) |>
    arrange(year, month)

#Result
head(snp_df, 10)
```

    ##    year month close
    ## 1  1950   Jan 17.05
    ## 2  1950   Feb 17.22
    ## 3  1950   Mar 17.29
    ## 4  1950   Apr 17.96
    ## 5  1950   May 18.78
    ## 6  1950   Jun 17.69
    ## 7  1950   Jul 17.84
    ## 8  1950   Aug 18.42
    ## 9  1950   Sep 19.45
    ## 10 1950   Oct 19.53
